unsigned long count_bits(unsigned long x) { return __builtin_popcountl(x); }
